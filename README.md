# vaadin-task05
Vaadin: task #5. Used MySql, Liquibase, Hibernate, Spring, Vaadin-spring, Vaadin (CastomeField, DataProvider), Reflection IP, Selenium for testing

0. Cоздать основную страницу, где меню с 2 пунктами Hotel и Category обеспечивает навигацию на 2- е страницы для просмотра, редактирования, добавления, удаления отелей и категорий отелей. 

1. Добавить фильтры для поиска отелей по имени и по адресу, для категорий отелей только по имени..

2. Поля rating, operatesFrom класса Hotel сделать Interger, Long и добавить к ним валидацию.
    Ко всем полям на форме добавить ToolTip с описанием значения поля.
    Все поля кроме описания отеля дожны быть обязательными к заполнению.
    Rating может быть от 0 до 5. OperatesFrom должно быть в прошлом.

3. При удалении категории, на списке отелей (удаленную) категорию отображать как No category (NullRepresentation)

4. Все списки HotelList и CategoryList должны быть MultiSelect.  Если выбрано несколько записей, доступны только кнопки add и delete. Если выбрана одна запись, доступны все кнопки.
    Если не выбрано ничего, доступна только add.

5. Создать базу данных для хранения сущностей. Все опперации по созданию таблиц, их изменению, внесению исходных данных следует производить с помощью Liquibase
Еще раз про настройки базы данных:

MySQL >5.0
databasename: demo_hotels
user: demo
password: demo

6. Доступ к базе данных производить с помощью Hibernate. Управление созданием бинов и организация связи между ними с помощью Spring

7. На странице со списоком отелей если выбрано несколько записей, становится доступной операция "Bulk update". Эта операция позволяет изменить одно из полей сразу у всех выбранных отелей. Окно с формой обновления должно быть popup.

8. Добавить кастомное поле, которое будет определять PaymentMethod отеля.. Суть компонента: задать какой у нас будет способ оплаты (кредиткой или наличными) и если кредиткой указать в процентах (просто число не больше 100) сумму предоплаты. Во втором  случае (Cash) текст это просто лейбл, его не надо хранить в базе. На поле повесить ValueChangeListner, который будет выдавать нотификацию как изменились значения (как было и как стало)

9. Используя Selenium реализовать заполнение данных, добавить 3 категории и несколько отелей (не меньше 2ух). Реализовать в виде тестов.
10. Реализовать отображение данных в гриде через DataProvider, фильтрацию тоже сделать в нем. 


Для запуска приложения:

1. Создать базу данных в MySQL > 5.0. 
databasename: demo_hotels
user: demo
password: demo

2. Собрать приложение через Maven без запуска тестов. Команда: 
mvn package -am  -Dmaven.test.skip 

3. Создать таблицы и исходные данные в таблицах базы данных demo_hotels
 Для этого перейти в деректорию: [project_home]/ vaadin-task05/ vaadin-task05-dao 
 Из данной директории запустить команду: mvn liquibase:update

Важно перед выполнением данного пункта произвести выполнения пункта 2.так, как Liquibase для своей работы берет данные из деректории Target

4. Теперь можно запускать приложение.
  В директории: [project_home]/ vaadin-task05/ vaadin-task05-web/target 
  Будет файл: vaadin-task05.war

Вы можете запустить любой привычный вам web server и задеплоить приложение (vaadin-task05.war).

Либо из директории: [project_home]/ vaadin-task05
Запустить команду: mvn jetty:run-war

Загрузиться Jetty web server и приложение будет доступно по адресу:  http://localhost:8080/



